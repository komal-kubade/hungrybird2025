<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Forum Discussion Platform - Share ideas and engage in meaningful conversations">
    <title>Forum - Discussion Platform</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>üí¨ Forum</h1>
            </div>
            <div class="nav-menu">
                <a href="moderation.html" id="moderation-link" class="btn btn-warning btn-small" style="display: none;">üö® Moderation</a>
                <span id="username-display" class="username"></span>
                <span id="user-role-badge" class="role-badge"></span>
                <button id="logout-btn" class="btn btn-secondary btn-small">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="container main-content">
        
        <!-- Search and Filter Section -->
        <div class="search-filter-section">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="üîç Search topics...">
                <button id="search-btn" class="btn btn-primary">Search</button>
            </div>
            <div class="filter-box">
                <label for="category-filter">Category:</label>
                <select id="category-filter">
                    <option value="">All Categories</option>
                    <option value="General">General</option>
                    <option value="Technology">Technology</option>
                    <option value="Gaming">Gaming</option>
                    <option value="News">News</option>
                    <option value="Entertainment">Entertainment</option>
                    <option value="Science">Science</option>
                    <option value="Sports">Sports</option>
                    <option value="Business">Business</option>
                    <option value="Health">Health</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>

        <!-- Create Topic Section -->
        <div class="create-topic-section">
            <button id="toggle-create-form" class="btn btn-primary">
                <span>‚ûï</span> Create New Topic
            </button>
            
            <div id="create-topic-form" class="create-form hidden">
                <h3>‚úèÔ∏è Create New Discussion Topic</h3>
                <form id="topicForm">
                    <div class="form-group">
                        <label for="topic-title">Title *</label>
                        <input 
                            type="text" 
                            id="topic-title" 
                            placeholder="Enter topic title..."
                            required 
                            minlength="5"
                            maxlength="200">
                        <small class="char-count"><span id="title-count">0</span>/200</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="topic-category">Category *</label>
                        <select id="topic-category" required>
                            <option value="General">General</option>
                            <option value="Technology">Technology</option>
                            <option value="Gaming">Gaming</option>
                            <option value="News">News</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Science">Science</option>
                            <option value="Sports">Sports</option>
                            <option value="Business">Business</option>
                            <option value="Health">Health</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="topic-description">Description *</label>
                        <textarea 
                            id="topic-description" 
                            rows="6" 
                            placeholder="Describe your topic in detail..."
                            required
                            minlength="10"
                            maxlength="2000"></textarea>
                        <small class="char-count"><span id="desc-count">0</span>/2000</small>
                    </div>
                    
                    <div class="form-actions">
                        <button id="create-topic-btn" type="submit" class="btn btn-primary">
                            <span>‚úì</span> Create Topic
                        </button>
                        <button type="button" id="cancel-topic" class="btn btn-secondary">
                            <span>‚úó</span> Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Topics List Section -->
        <div class="topics-section">
            <div class="section-header">
                <h2>üìã Discussion Topics</h2>
                <div id="topics-count" class="topics-count"></div>
            </div>
            
            <div id="topics-list" class="topics-list">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading topics...</p>
                </div>
            </div>
            
            <!-- Pagination -->
            <div id="pagination" class="pagination"></div>
        </div>
    </div>

    <!-- Topic Detail Modal -->
    <div id="topic-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="close-modal" aria-label="Close modal">&times;</button>
            
            <div id="topic-detail">
                <!-- Topic Header -->
                <div class="topic-header">
                    <h2 id="modal-topic-title"></h2>
                    <div class="topic-meta">
                        <span id="modal-topic-author" class="meta-item"></span>
                        <span id="modal-topic-date" class="meta-item"></span>
                        <span id="modal-topic-category" class="category-badge"></span>
                        <span id="modal-topic-views" class="meta-item"></span>
                    </div>
                    <p id="modal-topic-description" class="topic-description"></p>
                    <div id="topic-actions" class="topic-actions"></div>
                </div>

                <!-- Create Post Section -->
                <div class="create-post-section" id="create-post-section">
                    <h3>üí≠ Add Your Post</h3>
                    <form id="postForm">
                        <textarea 
                            id="post-content" 
                            rows="4" 
                            placeholder="Share your thoughts..."
                            required
                            maxlength="5000"></textarea>
                        <div class="post-form-footer">
                            <small class="char-count"><span id="post-count">0</span>/5000</small>
                            <button type="submit" class="btn btn-primary">
                                <span>üì§</span> Post
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Posts List -->
                <div class="posts-section">
                    <h3 id="posts-section-title">üí¨ Discussion</h3>
                    <div id="posts-list" class="posts-list">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading posts...</p>
                        </div>
                    </div>
                    
                    <!-- Posts Pagination -->
                    <div id="posts-pagination" class="pagination"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <span id="toast-message"></span>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
</body>
</html>